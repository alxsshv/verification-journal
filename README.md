# Сервис учета поверочной деятельности #

Сервис предназначен для хранения протоколов поверки средств измерений.  

Сервис умеет:
- хранить информацию о поверителях работающих в организации (пользователях сервиса);
- регистрировать пользователей;
- оповещать администратора о необходимости проверки и активации вновь созданных аккаунтов пользователей;
- содавать журналы поверки средств измерений;
- хранить в журналах протоколы поверки средств измерений (в формате PDF);
- закреплять протокол поверки за конкретным пользователем;
- подписывать протоколы поверки (только поверителем за которым закреплена поверка). Подписание осуществляется добавлением на каждую страницу pdf файла Ф.И.О поверителя;
- хранить подписанные версии протоколов и передавать их по запросу;
- оповещать пользователей о необходимости подписания протоколов поверки.

Проект разработан в учебных целях для изучения принципов backend-разработки с применениям языка Java и технологий Spring Boot, Spring MVC, Spring Security, 
Gradle, Liquibase, JUnit, Thymeleafe, PostgreSQL, Bootstrap, Apache PDFBox. 

## Для запуска проекта Вам потребуется: ##
- Java 21;
- PostrgeSQL версия 14 или выше.
  
В файле `application.yml` необходимо указать:
в секции paths:
- каталог для хранения оригинальных файлов отчетов `originProtocolsPath`, например (linux):
`originProtocolsPath: /home/user/protocols/origin`
- каталог для хранения подписанных копий отчетов о поверке `signedProtocolsPath`, например (linux);
`signedProtocolsPath: /home/alexei/dev/protocols/signed`
В windows возможно потребуется экранировать обратный слеш, т.е. вместо ставить два обратных слеша вместо одного.

В PostgreSQL необходимо создать базу даннных, например journaldb, и указать параметры подключения к ней в файле application.yml в секции `spring: datasource:`    

          ```
          url: jdbc:postgresql://localhost:5432/journald` // адрес для подключения к базе данных    
          username: alexei //имя пользователя базы данных   
          password: test //пароль пользователя базы данных
          ```
После запуска приложения для доступа к сервису перейдите в браузере по ссылке <http://localhost:8085/> введите логин Root и пароль Rooot.
Для просмотра полныз возможностей сервиса необходимо:
 * пользователю Root добавить права поверителя (администрирование -> список пользователей -> выбрать Root -> редактирование -> выбрать уровень доступа "Поверитель"
-> добавить уровень доступа -> сохранить -> выйти из системы и вновь зайти под пользователем Root)
 * создать несколько дополнительных пользователей с правами "Поверитель" для формирования протоколов и их подписания.
